import{_ as j,u as V,a as $,j as M,m as L,c as J,w as h,o as q,b as p,d as g,e as t,q as m,y as x,g as a,t as u,n as R,f,F as C,r as F,v as z,z as v,s as r,x as A,i as G}from"./index-b8c75c1a.js";const H={class:"settings-page"},K={class:"settings-container"},Q={class:"settings-section"},W={class:"setting-item"},X={class:"setting-control"},Y={class:"setting-item"},Z={class:"setting-info"},tt={class:"description"},et={class:"setting-control"},st={class:"toggle-icon"},nt={class:"setting-item"},it={class:"setting-info"},ot={class:"description"},lt={class:"setting-control"},at={class:"settings-section"},rt={class:"setting-item"},dt={class:"setting-control"},ct=["value"],ut={class:"setting-item"},mt={class:"setting-info"},pt={class:"description"},gt={class:"setting-control"},ft={class:"setting-item"},vt={class:"setting-info"},bt={class:"description"},yt={class:"setting-control"},kt={class:"settings-section"},ht={class:"setting-item"},_t={class:"setting-info"},St={class:"description"},xt={class:"setting-item"},Rt={class:"setting-control"},Ct={class:"checkbox-label"},Ft={class:"setting-item"},At={class:"setting-control"},wt={class:"checkbox-label"},Tt={class:"settings-section"},Nt={class:"setting-item"},Pt={class:"setting-control"},Bt={class:"setting-item"},Dt={class:"setting-control"},Ut={class:"checkbox-label"},It={class:"setting-item"},Et={class:"setting-control"},Ot={class:"checkbox-label"},jt={class:"settings-section"},Vt={class:"theme-grid"},$t=["onClick"],Mt={class:"theme-icon"},Lt={class:"theme-name"},Jt={__name:"Settings",setup(qt){const s=V(),d=$(),b=M("default"),l=L({autoFeed:!0,petReminders:!0,vibration:!0,visualAlert:!0,currentTheme:"default"}),_=[{id:"default",name:"é»˜è®¤",icon:"ğŸŒˆ",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",primaryColor:"#667eea",secondaryColor:"#764ba2",textColor:"#ffffff",cardBg:"rgba(255, 255, 255, 0.95)",borderRadius:"20px",fontFamily:"system-ui, -apple-system, sans-serif"},{id:"ocean",name:"æµ·æ´‹",icon:"ğŸŒŠ",background:"linear-gradient(135deg, #2E3192 0%, #1BFFFF 100%)",primaryColor:"#2E3192",secondaryColor:"#1BFFFF",textColor:"#ffffff",cardBg:"rgba(255, 255, 255, 0.9)",borderRadius:"16px",fontFamily:"system-ui, sans-serif"},{id:"forest",name:"æ£®æ—",icon:"ğŸŒ²",background:"linear-gradient(135deg, #0F2027 0%, #203A43 50%, #2C5364 100%)",primaryColor:"#203A43",secondaryColor:"#2C5364",textColor:"#e0f2f1",cardBg:"rgba(255, 255, 255, 0.85)",borderRadius:"12px",fontFamily:"Georgia, serif"},{id:"sunset",name:"æ—¥è½",icon:"ğŸŒ…",background:"linear-gradient(135deg, #FDC830 0%, #F37335 100%)",primaryColor:"#F37335",secondaryColor:"#FDC830",textColor:"#fff8e1",cardBg:"rgba(255, 255, 255, 0.92)",borderRadius:"24px",fontFamily:"system-ui, sans-serif"},{id:"space",name:"å¤ªç©º",icon:"ğŸš€",background:"linear-gradient(135deg, #0F0C29 0%, #302B63 50%, #24243E 100%)",primaryColor:"#302B63",secondaryColor:"#24243E",textColor:"#e0e0ff",cardBg:"rgba(20, 20, 40, 0.85)",borderRadius:"8px",fontFamily:"system-ui, monospace"}],w=J(()=>{if(!s.nextReminderTime)return null;const i=Date.now(),e=s.nextReminderTime-i;if(e<=0)return"æ—¶é—´åˆ°äº†!";const o=Math.floor(e/6e4),n=Math.floor(e%6e4/1e3);return`${o}:${n.toString().padStart(2,"0")}`});function T(){s.setReminder(s.reminderInterval),r(`â° æé†’é—´éš”å·²è®¾ç½®ä¸º ${s.reminderInterval} åˆ†é’Ÿ`,"info")}function N(){s.toggleReminder(),s.isReminderActive?r("âœ… æé†’å·²å¼€å¯","success"):r("â¸ï¸ æé†’å·²æš‚åœ","info")}function P(){var i;d.playReminder(),r(`ğŸµ æ­£åœ¨æ’­æ”¾: ${(i=d.reminderSounds.find(e=>e.id===d.selectedReminder))==null?void 0:i.name}`,"info")}function B(){const i=prompt("ç»™ä½ çš„å® ç‰©å–ä¸ªæ–°åå­—:",s.pet.name);i&&i.trim()&&i.length<=10?(s.pet.name=i.trim(),r(`âœ¨ å® ç‰©æ”¹åä¸º: ${i}`,"success")):i&&i.length>10&&r("åå­—å¤ªé•¿äº†ï¼ˆæœ€å¤š10ä¸ªå­—ç¬¦ï¼‰","warning")}function D(){if(!("Notification"in window)){r("æµè§ˆå™¨ä¸æ”¯æŒé€šçŸ¥åŠŸèƒ½","warning");return}Notification.requestPermission().then(i=>{b.value=i,i==="granted"?(r("âœ… é€šçŸ¥æƒé™å·²æˆæƒ","success"),new Notification("ç«™ç«‹æé†’",{body:"é€šçŸ¥æƒé™å·²å¼€å¯ï¼"})):i==="denied"?r("âŒ é€šçŸ¥æƒé™è¢«æ‹’ç»","error"):r("â° é€šçŸ¥æƒé™å¾…æˆæƒ","info")})}function U(){const i={user:{totalStands:s.totalStands,todayStands:s.todayStands,currentStreak:s.currentStreak,longestStreak:s.longestStreak,totalPoints:s.totalPoints,pet:s.pet,reminderInterval:s.reminderInterval,isReminderActive:s.isReminderActive},achievements:s.achievements,challenges:s.challenges,history:s.history,settings:l,exportDate:new Date().toISOString(),version:"1.0"},e=new Blob([JSON.stringify(i,null,2)],{type:"application/json"}),o=URL.createObjectURL(e),n=document.createElement("a");n.href=o,n.download=`standup-adventure-backup-${Date.now()}.json`,n.click(),URL.revokeObjectURL(o),r("âœ… æ•°æ®å·²å¯¼å‡º","success")}function I(){const i=document.createElement("input");i.type="file",i.accept=".json",i.onchange=e=>{const o=e.target.files[0];if(!o)return;const n=new FileReader;n.onload=S=>{try{const c=JSON.parse(S.target.result);c.user&&Object.assign(s,c.user),c.achievements&&(s.achievements=c.achievements),c.challenges&&(s.challenges=c.challenges),c.history&&(s.history=c.history),c.settings&&Object.assign(l,c.settings),r("âœ… æ•°æ®å¯¼å…¥æˆåŠŸ","success")}catch{r("âŒ æ•°æ®æ ¼å¼é”™è¯¯","error")}},n.readAsText(o)},i.click()}async function E(){!await A("âš ï¸ ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰æ•°æ®å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ï¼")||!await A("çœŸçš„ç¡®å®šå—ï¼Ÿæ‰€æœ‰è¿›åº¦éƒ½ä¼šä¸¢å¤±ï¼")||(s.totalStands=0,s.todayStands=0,s.currentStreak=0,s.longestStreak=0,s.totalPoints=0,s.pet={name:"Standy",happiness:100,hunger:100,energy:100,level:1,xp:0,type:"default"},s.history=[],s.achievements.forEach(o=>o.unlocked=!1),s.challenges.forEach(o=>{o.progress=0,o.completed=!1}),s.isReminderActive=!1,s.nextReminderTime=null,l.autoFeed=!0,l.petReminders=!0,l.vibration=!0,l.visualAlert=!0,l.currentTheme="default",r("ğŸ”„ æ‰€æœ‰æ•°æ®å·²æ¸…ç©º","info"))}function O(){const i=localStorage.getItem("standupSettings");if(i)try{const e=JSON.parse(i);Object.assign(l,e)}catch(e){console.error("åŠ è½½è®¾ç½®å¤±è´¥",e)}}let y=null;h(l,()=>{y&&clearTimeout(y),y=setTimeout(()=>{localStorage.setItem("standupSettings",JSON.stringify(l))},500)},{deep:!0});let k=null;return h(()=>l.currentTheme,i=>{k&&clearTimeout(k),k=setTimeout(()=>{const e=_.find(o=>o.id===i);if(e){const o=document.documentElement.style;o.setProperty("--theme-primary",e.primaryColor),o.setProperty("--theme-secondary",e.secondaryColor),o.setProperty("--theme-text",e.textColor),o.setProperty("--theme-card-bg",e.cardBg),o.setProperty("--theme-border-radius",e.borderRadius),o.setProperty("--theme-font-family",e.fontFamily),document.body.style.background=e.background,r(`ğŸ¨ å·²åˆ‡æ¢åˆ°${e.name}ä¸»é¢˜`,"info")}},200)}),h(()=>s.pet.happiness,i=>{l.petReminders&&i<30&&r(`${s.pet.name} ä¸å¼€å¿ƒäº†ï¼Œå¿«å»é™ªé™ªå®ƒï¼`,"warning")}),q(()=>{O(),"Notification"in window&&(b.value=Notification.permission),setInterval(()=>{l.autoFeed&&s.isReminderActive&&(s.pet.hunger<30&&s.feedPet(),s.pet.energy<20&&s.restPet())},12e4)}),(i,e)=>{var o;return p(),g("div",H,[t("div",K,[e[36]||(e[36]=t("h2",null,"âš™ï¸ è®¾ç½®",-1)),e[37]||(e[37]=t("p",{class:"subtitle"},"è‡ªå®šä¹‰ä½ çš„ç«™ç«‹æé†’ä½“éªŒ",-1)),t("div",Q,[e[13]||(e[13]=t("h3",null,"â° æé†’è®¾ç½®",-1)),t("div",W,[e[10]||(e[10]=t("div",{class:"setting-info"},[t("span",{class:"label"},"æé†’é—´éš”"),t("span",{class:"description"},"æ¯éš”å¤šä¹…æé†’ä¸€æ¬¡")],-1)),t("div",X,[m(t("select",{"onUpdate:modelValue":e[0]||(e[0]=n=>a(s).reminderInterval=n),onChange:T,class:"select-input"},[...e[9]||(e[9]=[t("option",{value:30},"30åˆ†é’Ÿ",-1),t("option",{value:45},"45åˆ†é’Ÿ",-1),t("option",{value:60},"60åˆ†é’Ÿ",-1),t("option",{value:90},"90åˆ†é’Ÿ",-1),t("option",{value:120},"2å°æ—¶",-1)])],544),[[x,a(s).reminderInterval]])])]),t("div",Y,[t("div",Z,[e[11]||(e[11]=t("span",{class:"label"},"æé†’çŠ¶æ€",-1)),t("span",tt,u(a(s).isReminderActive?"æ­£åœ¨è¿è¡Œ":"å·²æš‚åœ"),1)]),t("div",et,[t("button",{class:R(["toggle-btn",{active:a(s).isReminderActive}]),onClick:N},[t("span",st,u(a(s).isReminderActive?"â–¶ï¸":"â¸ï¸"),1),f(" "+u(a(s).isReminderActive?"è¿è¡Œä¸­":"å·²æš‚åœ"),1)],2)])]),t("div",nt,[t("div",it,[e[12]||(e[12]=t("span",{class:"label"},"ä¸‹æ¬¡æé†’æ—¶é—´",-1)),t("span",ot,u(w.value||"æœªè®¾ç½®"),1)]),t("div",lt,[t("button",{class:"small-btn",onClick:e[1]||(e[1]=(...n)=>a(s).scheduleNextReminder&&a(s).scheduleNextReminder(...n))},"ç«‹å³é‡ç½®")])])]),t("div",at,[e[18]||(e[18]=t("h3",null,"ğŸµ éŸ³æ•ˆè®¾ç½®",-1)),t("div",rt,[e[14]||(e[14]=t("div",{class:"setting-info"},[t("span",{class:"label"},"æé†’éŸ³æ•ˆ"),t("span",{class:"description"},"é€‰æ‹©æé†’æ—¶æ’­æ”¾çš„å£°éŸ³")],-1)),t("div",dt,[m(t("select",{"onUpdate:modelValue":e[2]||(e[2]=n=>a(d).selectedReminder=n),class:"select-input"},[(p(!0),g(C,null,F(a(d).reminderSounds,n=>(p(),g("option",{key:n.id,value:n.id},u(n.name),9,ct))),128))],512),[[x,a(d).selectedReminder]])])]),t("div",ut,[t("div",mt,[e[15]||(e[15]=t("span",{class:"label"},"éŸ³é‡",-1)),t("span",pt,u(Math.round(a(d).volume*100))+"%",1)]),t("div",gt,[m(t("input",{type:"range","onUpdate:modelValue":e[3]||(e[3]=n=>a(d).volume=n),min:"0",max:"1",step:"0.1",class:"slider"},null,512),[[z,a(d).volume,void 0,{number:!0}]])])]),t("div",{class:"setting-item"},[e[16]||(e[16]=t("div",{class:"setting-info"},[t("span",{class:"label"},"æµ‹è¯•æé†’éŸ³æ•ˆ"),t("span",{class:"description"},"ç‚¹å‡»æµ‹è¯•å½“å‰é€‰æ‹©çš„æé†’å£°éŸ³")],-1)),t("div",{class:"setting-control"},[t("button",{class:"small-btn",onClick:P},"ğŸ”Š æµ‹è¯•")])]),t("div",ft,[t("div",vt,[e[17]||(e[17]=t("span",{class:"label"},"ç¯å¢ƒéŸ³æ•ˆ",-1)),t("span",bt,u(a(d).currentAmbient==="none"?"æœªé€‰æ‹©":(o=a(d).ambientSounds.find(n=>n.id===a(d).currentAmbient))==null?void 0:o.name),1)]),t("div",yt,[t("button",{class:"small-btn",onClick:e[4]||(e[4]=(...n)=>a(d).stopAmbient&&a(d).stopAmbient(...n))},"åœæ­¢æ’­æ”¾")])])]),t("div",kt,[e[24]||(e[24]=t("h3",null,"ğŸ¾ å® ç‰©è®¾ç½®",-1)),t("div",ht,[t("div",_t,[e[19]||(e[19]=t("span",{class:"label"},"å® ç‰©åç§°",-1)),t("span",St,u(a(s).pet.name),1)]),t("div",{class:"setting-control"},[t("button",{class:"small-btn",onClick:B},"ä¿®æ”¹")])]),t("div",xt,[e[21]||(e[21]=t("div",{class:"setting-info"},[t("span",{class:"label"},"è‡ªåŠ¨å–‚å…»"),t("span",{class:"description"},"ç«™ç«‹æ—¶è‡ªåŠ¨æ¢å¤å® ç‰©çŠ¶æ€")],-1)),t("div",Rt,[t("label",Ct,[m(t("input",{type:"checkbox","onUpdate:modelValue":e[5]||(e[5]=n=>l.autoFeed=n)},null,512),[[v,l.autoFeed]]),e[20]||(e[20]=t("span",{class:"checkmark"},null,-1))])])]),t("div",Ft,[e[23]||(e[23]=t("div",{class:"setting-info"},[t("span",{class:"label"},"å® ç‰©æé†’"),t("span",{class:"description"},"å® ç‰©çŠ¶æ€ä½æ—¶æé†’")],-1)),t("div",At,[t("label",wt,[m(t("input",{type:"checkbox","onUpdate:modelValue":e[6]||(e[6]=n=>l.petReminders=n)},null,512),[[v,l.petReminders]]),e[22]||(e[22]=t("span",{class:"checkmark"},null,-1))])])])]),t("div",Tt,[e[30]||(e[30]=t("h3",null,"ğŸ”” é€šçŸ¥è®¾ç½®",-1)),t("div",Nt,[e[25]||(e[25]=t("div",{class:"setting-info"},[t("span",{class:"label"},"æµè§ˆå™¨é€šçŸ¥"),t("span",{class:"description"},"å…è®¸æµè§ˆå™¨å‘é€é€šçŸ¥")],-1)),t("div",Pt,[t("button",{class:"small-btn",onClick:D},u(b.value==="granted"?"å·²æˆæƒ":"è¯·æ±‚æˆæƒ"),1)])]),t("div",Bt,[e[27]||(e[27]=t("div",{class:"setting-info"},[t("span",{class:"label"},"æŒ¯åŠ¨æé†’"),t("span",{class:"description"},"ç§»åŠ¨è®¾å¤‡æŒ¯åŠ¨")],-1)),t("div",Dt,[t("label",Ut,[m(t("input",{type:"checkbox","onUpdate:modelValue":e[7]||(e[7]=n=>l.vibration=n)},null,512),[[v,l.vibration]]),e[26]||(e[26]=t("span",{class:"checkmark"},null,-1))])])]),t("div",It,[e[29]||(e[29]=t("div",{class:"setting-info"},[t("span",{class:"label"},"è§†è§‰æé†’"),t("span",{class:"description"},"å±å¹•é—ªçƒæ•ˆæœ")],-1)),t("div",Et,[t("label",Ot,[m(t("input",{type:"checkbox","onUpdate:modelValue":e[8]||(e[8]=n=>l.visualAlert=n)},null,512),[[v,l.visualAlert]]),e[28]||(e[28]=t("span",{class:"checkmark"},null,-1))])])])]),t("div",jt,[e[31]||(e[31]=t("h3",null,"ğŸ¨ ä¸»é¢˜è®¾ç½®",-1)),t("div",Vt,[(p(),g(C,null,F(_,n=>t("div",{key:n.id,class:R(["theme-card",{active:l.currentTheme===n.id}]),onClick:S=>l.currentTheme=n.id},[t("div",{class:"theme-preview",style:G({background:n.background})},[t("div",Mt,u(n.icon),1)],4),t("div",Lt,u(n.name),1)],10,$t)),64))])]),t("div",{class:"settings-section"},[e[35]||(e[35]=t("h3",null,"ğŸ’¾ æ•°æ®ç®¡ç†",-1)),t("div",{class:"action-grid"},[t("button",{class:"action-btn",onClick:U},[...e[32]||(e[32]=[t("span",null,"ğŸ“¤",-1),f(" å¯¼å‡ºå…¨éƒ¨ ",-1)])]),t("button",{class:"action-btn",onClick:I},[...e[33]||(e[33]=[t("span",null,"ğŸ“¥",-1),f(" å¯¼å…¥æ•°æ® ",-1)])]),t("button",{class:"action-btn danger",onClick:E},[...e[34]||(e[34]=[t("span",null,"ğŸ—‘ï¸",-1),f(" æ¸…ç©ºæ•°æ® ",-1)])])])]),e[38]||(e[38]=t("div",{class:"settings-section"},[t("h3",null,"â„¹ï¸ å…³äº"),t("div",{class:"about-content"},[t("p",null,[t("strong",null,"ç«™ç«‹å†’é™© v1.0")]),t("p",null,"ä¸€ä¸ªå°†ç«™ç«‹æé†’å˜æˆå†’é™©æ—…ç¨‹çš„åˆ›æ„åº”ç”¨"),t("p",null,"ğŸ¯ ç›®æ ‡ï¼šè®©ä¹…åæé†’å˜å¾—æœ‰è¶£"),t("p",null,"ğŸŒŸ ç‰¹è‰²ï¼šè™šæ‹Ÿå® ç‰©ã€æˆå°±ç³»ç»Ÿã€å°æ¸¸æˆ"),t("p",null,"â¤ï¸ ä¿æŒå¥åº·ï¼Œäº«å—ç”Ÿæ´»ï¼")])],-1))])])}}},Gt=j(Jt,[["__scopeId","data-v-5f848afb"]]);export{Gt as default};
