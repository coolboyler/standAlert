import{_ as V,u as $,j as g,m as N,c as _,b as i,d as o,e as s,F as D,r as U,g as B,t as d,p as M,q as c,v as p,k as C,s as v,n as T,i as j,f as q,h as z}from"./index-b8c75c1a.js";const F={class:"challenges-page"},P={class:"challenges-container"},R={class:"challenges-list"},A={class:"challenge-header"},E={class:"challenge-info"},H={class:"challenge-reward"},I={class:"reward-points"},L={class:"challenge-progress"},G={class:"progress-bar"},J={class:"progress-text"},K={key:0,class:"completed-text"},O={class:"challenge-actions"},Q=["onClick"],W={key:1,class:"action-btn completed-btn",disabled:""},X={class:"daily-challenges"},Y={class:"daily-grid"},Z={class:"challenge-stats"},ss={class:"stats-grid"},ts={class:"stat-card"},es={class:"stat-value"},as={class:"stat-card"},ls={class:"stat-value"},ns={class:"stat-card"},ds={class:"stat-value"},is={class:"custom-challenge"},os={class:"custom-form"},rs={class:"form-row"},cs={key:0,class:"challenge-complete-overlay"},ps={class:"challenge-complete-content"},vs={class:"reward-display"},us={__name:"Challenges",setup(ms){const n=$(),u=g(!1),f=g(""),w=g(0),l=N({name:"",desc:"",target:10,reward:50}),h=_(()=>n.challenges.filter(a=>a.completed).length),b=_(()=>n.challenges.filter(a=>a.completed).reduce((a,t)=>a+t.reward,0)),y=_(()=>n.challenges.filter(a=>!a.completed).length);function k(a){var t;a.completed||(a.id==="daily_10"?n.recordStand(10):a.id==="week_5"?(n.currentStreak=5,n.recordStand(5)):a.id==="hour_glass"&&n.recordStand(60),(t=n.checkChallenges)==null||t.call(n),a.completed||(a.progress=a.target,a.completed=!0,n.totalPoints+=a.reward),S(a.name,a.reward))}function S(a,t){f.value=a,w.value=t,u.value=!0,z(),setTimeout(()=>{u.value=!1},2500)}function r(a){const e={water:{name:"å–æ°´æé†’",message:"ğŸ’§ è®°å¾—å–ä¸€æ¯æ°´ï¼Œä¿æŒæ°´åˆ†å……è¶³ï¼",points:10},stretch:{name:"ä¼¸å±•è¿åŠ¨",message:"ğŸ¤¸ åš3ä¸ªä¼¸å±•åŠ¨ä½œï¼Œæ”¾æ¾è‚Œè‚‰ï¼",points:15},deep:{name:"æ·±å‘¼å¸",message:"ğŸ§˜ å®Œæˆ5æ¬¡æ·±å‘¼å¸ï¼Œæ”¾æ¾èº«å¿ƒï¼",points:10},posture:{name:"å§¿åŠ¿æ£€æŸ¥",message:"ğŸ“ è°ƒæ•´å§¿åŠ¿ï¼Œä¿æŒæŒºæ‹”ï¼",points:10}}[a];if(v(e.message,"success"),n.totalPoints+=e.points,n.pet.happiness=Math.min(100,n.pet.happiness+3),n.pet){const m=new Date;`${m.getHours().toString().padStart(2,"0")}${m.getMinutes().toString().padStart(2,"0")}`}}function x(){if(!l.name||!l.desc||!l.target||!l.reward){v("è¯·å¡«å†™å®Œæ•´ä¿¡æ¯","warning");return}if(l.target<1||l.reward<1){v("ç›®æ ‡å’Œå¥–åŠ±å¿…é¡»å¤§äº0","warning");return}const a={id:"custom_"+Date.now(),name:l.name,desc:l.desc,progress:0,target:l.target,reward:l.reward,completed:!1};n.challenges.push(a),v("âœ… è‡ªå®šä¹‰æŒ‘æˆ˜åˆ›å»ºæˆåŠŸï¼","success"),l.name="",l.desc="",l.target=10,l.reward=50}return(a,t)=>(i(),o("div",F,[s("div",P,[t[21]||(t[21]=s("h2",null,"ğŸ¯ æŒ‘æˆ˜ä¸­å¿ƒ",-1)),t[22]||(t[22]=s("p",{class:"subtitle"},"å®ŒæˆæŒ‘æˆ˜ï¼Œè·å¾—ä¸°åšå¥–åŠ±ï¼",-1)),s("div",R,[(i(!0),o(D,null,U(B(n).challenges,e=>(i(),o("div",{key:e.id,class:T(["challenge-card",{completed:e.completed}])},[s("div",A,[s("div",E,[s("h3",null,d(e.name),1),s("p",null,d(e.desc),1)]),s("div",H,[s("span",I,"+"+d(e.reward),1),t[8]||(t[8]=s("span",{class:"reward-label"},"ç§¯åˆ†",-1))])]),s("div",L,[s("div",G,[s("div",{class:"progress-fill",style:j({width:e.progress/e.target*100+"%"})},null,4)]),s("div",J,[q(d(e.progress)+"/"+d(e.target)+" ",1),e.completed?(i(),o("span",K,"âœ… å·²å®Œæˆ")):C("",!0)])]),s("div",O,[e.completed?(i(),o("button",W," å·²è·å¾—å¥–åŠ± ")):(i(),o("button",{key:0,class:"action-btn",onClick:m=>k(e)}," å¿«é€Ÿå®Œæˆ ",8,Q))])],2))),128))]),s("div",X,[t[13]||(t[13]=s("h3",null,"ğŸ“… æ¯æ—¥æŒ‘æˆ˜",-1)),s("div",Y,[s("div",{class:"daily-card",onClick:t[0]||(t[0]=e=>r("water"))},[...t[9]||(t[9]=[s("div",{class:"icon"},"ğŸ’§",-1),s("div",{class:"name"},"å–æ°´æé†’",-1),s("div",{class:"desc"},"ç«™ç«‹æ—¶è®°å¾—å–æ°´",-1)])]),s("div",{class:"daily-card",onClick:t[1]||(t[1]=e=>r("stretch"))},[...t[10]||(t[10]=[s("div",{class:"icon"},"ğŸ¤¸",-1),s("div",{class:"name"},"ä¼¸å±•è¿åŠ¨",-1),s("div",{class:"desc"},"åš3ä¸ªä¼¸å±•åŠ¨ä½œ",-1)])]),s("div",{class:"daily-card",onClick:t[2]||(t[2]=e=>r("deep"))},[...t[11]||(t[11]=[s("div",{class:"icon"},"ğŸ§˜",-1),s("div",{class:"name"},"æ·±å‘¼å¸",-1),s("div",{class:"desc"},"å®Œæˆ5æ¬¡æ·±å‘¼å¸",-1)])]),s("div",{class:"daily-card",onClick:t[3]||(t[3]=e=>r("posture"))},[...t[12]||(t[12]=[s("div",{class:"icon"},"ğŸ“",-1),s("div",{class:"name"},"å§¿åŠ¿æ£€æŸ¥",-1),s("div",{class:"desc"},"è°ƒæ•´æ­£ç¡®å§¿åŠ¿",-1)])])])]),s("div",Z,[t[17]||(t[17]=s("h3",null,"ğŸ“Š æŒ‘æˆ˜ç»Ÿè®¡",-1)),s("div",ss,[s("div",ts,[s("div",es,d(h.value),1),t[14]||(t[14]=s("div",{class:"stat-label"},"å·²å®ŒæˆæŒ‘æˆ˜",-1))]),s("div",as,[s("div",ls,d(b.value),1),t[15]||(t[15]=s("div",{class:"stat-label"},"æ€»å¥–åŠ±ç§¯åˆ†",-1))]),s("div",ns,[s("div",ds,d(y.value),1),t[16]||(t[16]=s("div",{class:"stat-label"},"è¿›è¡Œä¸­",-1))])])]),t[23]||(t[23]=M('<div class="challenge-tips" data-v-84204096><h3 data-v-84204096>ğŸ’¡ æŒ‘æˆ˜å°è´´å£«</h3><div class="tips-list" data-v-84204096><div class="tip-item" data-v-84204096><span class="tip-number" data-v-84204096>1</span><span data-v-84204096>ä»å°ç›®æ ‡å¼€å§‹ï¼Œé€æ­¥å¢åŠ éš¾åº¦</span></div><div class="tip-item" data-v-84204096><span class="tip-number" data-v-84204096>2</span><span data-v-84204096>è®¾ç½®æé†’ï¼Œä¿æŒè§„å¾‹æ€§</span></div><div class="tip-item" data-v-84204096><span class="tip-number" data-v-84204096>3</span><span data-v-84204096>ä¸æœ‹å‹åˆ†äº«è¿›åº¦ï¼Œäº’ç›¸é¼“åŠ±</span></div><div class="tip-item" data-v-84204096><span class="tip-number" data-v-84204096>4</span><span data-v-84204096>å®ŒæˆæŒ‘æˆ˜åå¥–åŠ±è‡ªå·±</span></div></div></div>',1)),s("div",is,[t[18]||(t[18]=s("h3",null,"âœ¨ åˆ›å»ºè‡ªå®šä¹‰æŒ‘æˆ˜",-1)),s("div",os,[c(s("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>l.name=e),placeholder:"æŒ‘æˆ˜åç§°",class:"form-input"},null,512),[[p,l.name]]),c(s("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>l.desc=e),placeholder:"æŒ‘æˆ˜æè¿°",class:"form-input"},null,512),[[p,l.desc]]),s("div",rs,[c(s("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>l.target=e),type:"number",placeholder:"ç›®æ ‡æ¬¡æ•°",class:"form-input"},null,512),[[p,l.target,void 0,{number:!0}]]),c(s("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>l.reward=e),type:"number",placeholder:"å¥–åŠ±ç§¯åˆ†",class:"form-input"},null,512),[[p,l.reward,void 0,{number:!0}]])]),s("button",{class:"create-btn",onClick:x},"åˆ›å»ºæŒ‘æˆ˜")])]),u.value?(i(),o("div",cs,[s("div",ps,[t[19]||(t[19]=s("div",{class:"emoji"},"ğŸ‰",-1)),t[20]||(t[20]=s("h2",null,"æŒ‘æˆ˜å®Œæˆï¼",-1)),s("p",null,d(f.value),1),s("div",vs,"+"+d(w.value)+" ç§¯åˆ†",1)])])):C("",!0)])]))}},_s=V(us,[["__scopeId","data-v-84204096"]]);export{_s as default};
